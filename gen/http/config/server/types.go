// Code generated by goa v3.14.1, DO NOT EDIT.
//
// config HTTP server types
//
// Command:
// $ goa gen orbo/design

package server

import (
	config "orbo/gen/config"

	goa "goa.design/goa/v3/pkg"
)

// UpdateRequestBody is the type of the "config" service "update" endpoint HTTP
// request body.
type UpdateRequestBody struct {
	// Enable Telegram notifications
	TelegramEnabled *bool `form:"telegram_enabled,omitempty" json:"telegram_enabled,omitempty" xml:"telegram_enabled,omitempty"`
	// Telegram bot token
	TelegramBotToken *string `form:"telegram_bot_token,omitempty" json:"telegram_bot_token,omitempty" xml:"telegram_bot_token,omitempty"`
	// Telegram chat ID
	TelegramChatID *string `form:"telegram_chat_id,omitempty" json:"telegram_chat_id,omitempty" xml:"telegram_chat_id,omitempty"`
	// Minimum confidence threshold for notifications
	MinConfidence *float32 `form:"min_confidence,omitempty" json:"min_confidence,omitempty" xml:"min_confidence,omitempty"`
	// Cooldown period between notifications
	CooldownSeconds *int `form:"cooldown_seconds,omitempty" json:"cooldown_seconds,omitempty" xml:"cooldown_seconds,omitempty"`
}

// GetResponseBody is the type of the "config" service "get" endpoint HTTP
// response body.
type GetResponseBody struct {
	// Enable Telegram notifications
	TelegramEnabled bool `form:"telegram_enabled" json:"telegram_enabled" xml:"telegram_enabled"`
	// Telegram bot token
	TelegramBotToken *string `form:"telegram_bot_token,omitempty" json:"telegram_bot_token,omitempty" xml:"telegram_bot_token,omitempty"`
	// Telegram chat ID
	TelegramChatID *string `form:"telegram_chat_id,omitempty" json:"telegram_chat_id,omitempty" xml:"telegram_chat_id,omitempty"`
	// Minimum confidence threshold for notifications
	MinConfidence *float32 `form:"min_confidence,omitempty" json:"min_confidence,omitempty" xml:"min_confidence,omitempty"`
	// Cooldown period between notifications
	CooldownSeconds *int `form:"cooldown_seconds,omitempty" json:"cooldown_seconds,omitempty" xml:"cooldown_seconds,omitempty"`
}

// UpdateResponseBody is the type of the "config" service "update" endpoint
// HTTP response body.
type UpdateResponseBody struct {
	// Enable Telegram notifications
	TelegramEnabled bool `form:"telegram_enabled" json:"telegram_enabled" xml:"telegram_enabled"`
	// Telegram bot token
	TelegramBotToken *string `form:"telegram_bot_token,omitempty" json:"telegram_bot_token,omitempty" xml:"telegram_bot_token,omitempty"`
	// Telegram chat ID
	TelegramChatID *string `form:"telegram_chat_id,omitempty" json:"telegram_chat_id,omitempty" xml:"telegram_chat_id,omitempty"`
	// Minimum confidence threshold for notifications
	MinConfidence *float32 `form:"min_confidence,omitempty" json:"min_confidence,omitempty" xml:"min_confidence,omitempty"`
	// Cooldown period between notifications
	CooldownSeconds *int `form:"cooldown_seconds,omitempty" json:"cooldown_seconds,omitempty" xml:"cooldown_seconds,omitempty"`
}

// TestNotificationResponseBody is the type of the "config" service
// "test_notification" endpoint HTTP response body.
type TestNotificationResponseBody struct {
	// Test result
	Success bool `form:"success" json:"success" xml:"success"`
	// Result message
	Message string `form:"message" json:"message" xml:"message"`
}

// UpdateBadRequestResponseBody is the type of the "config" service "update"
// endpoint HTTP response body for the "bad_request" error.
type UpdateBadRequestResponseBody struct {
	// Error message
	Message string `form:"message" json:"message" xml:"message"`
	// Error details
	Details *string `form:"details,omitempty" json:"details,omitempty" xml:"details,omitempty"`
}

// TestNotificationInternalResponseBody is the type of the "config" service
// "test_notification" endpoint HTTP response body for the "internal" error.
type TestNotificationInternalResponseBody struct {
	// Error message
	Message string `form:"message" json:"message" xml:"message"`
}

// NewGetResponseBody builds the HTTP response body from the result of the
// "get" endpoint of the "config" service.
func NewGetResponseBody(res *config.NotificationConfig) *GetResponseBody {
	body := &GetResponseBody{
		TelegramEnabled:  res.TelegramEnabled,
		TelegramBotToken: res.TelegramBotToken,
		TelegramChatID:   res.TelegramChatID,
		MinConfidence:    res.MinConfidence,
		CooldownSeconds:  res.CooldownSeconds,
	}
	return body
}

// NewUpdateResponseBody builds the HTTP response body from the result of the
// "update" endpoint of the "config" service.
func NewUpdateResponseBody(res *config.NotificationConfig) *UpdateResponseBody {
	body := &UpdateResponseBody{
		TelegramEnabled:  res.TelegramEnabled,
		TelegramBotToken: res.TelegramBotToken,
		TelegramChatID:   res.TelegramChatID,
		MinConfidence:    res.MinConfidence,
		CooldownSeconds:  res.CooldownSeconds,
	}
	return body
}

// NewTestNotificationResponseBody builds the HTTP response body from the
// result of the "test_notification" endpoint of the "config" service.
func NewTestNotificationResponseBody(res *config.TestNotificationResult) *TestNotificationResponseBody {
	body := &TestNotificationResponseBody{
		Success: res.Success,
		Message: res.Message,
	}
	return body
}

// NewUpdateBadRequestResponseBody builds the HTTP response body from the
// result of the "update" endpoint of the "config" service.
func NewUpdateBadRequestResponseBody(res *config.BadRequestError) *UpdateBadRequestResponseBody {
	body := &UpdateBadRequestResponseBody{
		Message: res.Message,
		Details: res.Details,
	}
	return body
}

// NewTestNotificationInternalResponseBody builds the HTTP response body from
// the result of the "test_notification" endpoint of the "config" service.
func NewTestNotificationInternalResponseBody(res *config.InternalError) *TestNotificationInternalResponseBody {
	body := &TestNotificationInternalResponseBody{
		Message: res.Message,
	}
	return body
}

// NewUpdateNotificationConfig builds a config service update endpoint payload.
func NewUpdateNotificationConfig(body *UpdateRequestBody) *config.NotificationConfig {
	v := &config.NotificationConfig{
		TelegramEnabled:  *body.TelegramEnabled,
		TelegramBotToken: body.TelegramBotToken,
		TelegramChatID:   body.TelegramChatID,
		MinConfidence:    body.MinConfidence,
		CooldownSeconds:  body.CooldownSeconds,
	}

	return v
}

// ValidateUpdateRequestBody runs the validations defined on UpdateRequestBody
func ValidateUpdateRequestBody(body *UpdateRequestBody) (err error) {
	if body.TelegramEnabled == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("telegram_enabled", "body"))
	}
	return
}
