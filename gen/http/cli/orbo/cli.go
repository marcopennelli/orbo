// Code generated by goa v3.14.1, DO NOT EDIT.
//
// orbo HTTP client CLI support package
//
// Command:
// $ goa gen orbo/design

package cli

import (
	"flag"
	"fmt"
	"net/http"
	camerac "orbo/gen/http/camera/client"
	configc "orbo/gen/http/config/client"
	healthc "orbo/gen/http/health/client"
	motionc "orbo/gen/http/motion/client"
	systemc "orbo/gen/http/system/client"
	"os"

	goahttp "goa.design/goa/v3/http"
	goa "goa.design/goa/v3/pkg"
)

// UsageCommands returns the set of commands and sub-commands using the format
//
//	command (subcommand1|subcommand2|...)
func UsageCommands() string {
	return `health (healthz|readyz)
camera (list|get|create|update|delete|activate|deactivate|capture)
motion (events|event|frame)
config (get|update|test-notification)
system (status|start-detection|stop-detection)
`
}

// UsageExamples produces an example of a valid invocation of the CLI tool.
func UsageExamples() string {
	return os.Args[0] + ` health healthz` + "\n" +
		os.Args[0] + ` camera list` + "\n" +
		os.Args[0] + ` motion events --camera-id "b48be688-85ed-11f0-b1d0-5847ca7b8ce1" --since "2015-12-11T17:36:55Z" --limit -1636563420186970247` + "\n" +
		os.Args[0] + ` config get` + "\n" +
		os.Args[0] + ` system status` + "\n" +
		""
}

// ParseEndpoint returns the endpoint and payload as specified on the command
// line.
func ParseEndpoint(
	scheme, host string,
	doer goahttp.Doer,
	enc func(*http.Request) goahttp.Encoder,
	dec func(*http.Response) goahttp.Decoder,
	restore bool,
) (goa.Endpoint, any, error) {
	var (
		healthFlags = flag.NewFlagSet("health", flag.ContinueOnError)

		healthHealthzFlags = flag.NewFlagSet("healthz", flag.ExitOnError)

		healthReadyzFlags = flag.NewFlagSet("readyz", flag.ExitOnError)

		cameraFlags = flag.NewFlagSet("camera", flag.ContinueOnError)

		cameraListFlags = flag.NewFlagSet("list", flag.ExitOnError)

		cameraGetFlags  = flag.NewFlagSet("get", flag.ExitOnError)
		cameraGetIDFlag = cameraGetFlags.String("id", "REQUIRED", "Camera ID")

		cameraCreateFlags    = flag.NewFlagSet("create", flag.ExitOnError)
		cameraCreateBodyFlag = cameraCreateFlags.String("body", "REQUIRED", "")

		cameraUpdateFlags    = flag.NewFlagSet("update", flag.ExitOnError)
		cameraUpdateBodyFlag = cameraUpdateFlags.String("body", "REQUIRED", "")
		cameraUpdateIDFlag   = cameraUpdateFlags.String("id", "REQUIRED", "Camera ID")

		cameraDeleteFlags  = flag.NewFlagSet("delete", flag.ExitOnError)
		cameraDeleteIDFlag = cameraDeleteFlags.String("id", "REQUIRED", "Camera ID")

		cameraActivateFlags  = flag.NewFlagSet("activate", flag.ExitOnError)
		cameraActivateIDFlag = cameraActivateFlags.String("id", "REQUIRED", "Camera ID")

		cameraDeactivateFlags  = flag.NewFlagSet("deactivate", flag.ExitOnError)
		cameraDeactivateIDFlag = cameraDeactivateFlags.String("id", "REQUIRED", "Camera ID")

		cameraCaptureFlags  = flag.NewFlagSet("capture", flag.ExitOnError)
		cameraCaptureIDFlag = cameraCaptureFlags.String("id", "REQUIRED", "Camera ID")

		motionFlags = flag.NewFlagSet("motion", flag.ContinueOnError)

		motionEventsFlags        = flag.NewFlagSet("events", flag.ExitOnError)
		motionEventsCameraIDFlag = motionEventsFlags.String("camera-id", "", "")
		motionEventsSinceFlag    = motionEventsFlags.String("since", "", "")
		motionEventsLimitFlag    = motionEventsFlags.String("limit", "50", "")

		motionEventFlags  = flag.NewFlagSet("event", flag.ExitOnError)
		motionEventIDFlag = motionEventFlags.String("id", "REQUIRED", "Event ID")

		motionFrameFlags  = flag.NewFlagSet("frame", flag.ExitOnError)
		motionFrameIDFlag = motionFrameFlags.String("id", "REQUIRED", "Event ID")

		configFlags = flag.NewFlagSet("config", flag.ContinueOnError)

		configGetFlags = flag.NewFlagSet("get", flag.ExitOnError)

		configUpdateFlags    = flag.NewFlagSet("update", flag.ExitOnError)
		configUpdateBodyFlag = configUpdateFlags.String("body", "REQUIRED", "")

		configTestNotificationFlags = flag.NewFlagSet("test-notification", flag.ExitOnError)

		systemFlags = flag.NewFlagSet("system", flag.ContinueOnError)

		systemStatusFlags = flag.NewFlagSet("status", flag.ExitOnError)

		systemStartDetectionFlags = flag.NewFlagSet("start-detection", flag.ExitOnError)

		systemStopDetectionFlags = flag.NewFlagSet("stop-detection", flag.ExitOnError)
	)
	healthFlags.Usage = healthUsage
	healthHealthzFlags.Usage = healthHealthzUsage
	healthReadyzFlags.Usage = healthReadyzUsage

	cameraFlags.Usage = cameraUsage
	cameraListFlags.Usage = cameraListUsage
	cameraGetFlags.Usage = cameraGetUsage
	cameraCreateFlags.Usage = cameraCreateUsage
	cameraUpdateFlags.Usage = cameraUpdateUsage
	cameraDeleteFlags.Usage = cameraDeleteUsage
	cameraActivateFlags.Usage = cameraActivateUsage
	cameraDeactivateFlags.Usage = cameraDeactivateUsage
	cameraCaptureFlags.Usage = cameraCaptureUsage

	motionFlags.Usage = motionUsage
	motionEventsFlags.Usage = motionEventsUsage
	motionEventFlags.Usage = motionEventUsage
	motionFrameFlags.Usage = motionFrameUsage

	configFlags.Usage = configUsage
	configGetFlags.Usage = configGetUsage
	configUpdateFlags.Usage = configUpdateUsage
	configTestNotificationFlags.Usage = configTestNotificationUsage

	systemFlags.Usage = systemUsage
	systemStatusFlags.Usage = systemStatusUsage
	systemStartDetectionFlags.Usage = systemStartDetectionUsage
	systemStopDetectionFlags.Usage = systemStopDetectionUsage

	if err := flag.CommandLine.Parse(os.Args[1:]); err != nil {
		return nil, nil, err
	}

	if flag.NArg() < 2 { // two non flag args are required: SERVICE and ENDPOINT (aka COMMAND)
		return nil, nil, fmt.Errorf("not enough arguments")
	}

	var (
		svcn string
		svcf *flag.FlagSet
	)
	{
		svcn = flag.Arg(0)
		switch svcn {
		case "health":
			svcf = healthFlags
		case "camera":
			svcf = cameraFlags
		case "motion":
			svcf = motionFlags
		case "config":
			svcf = configFlags
		case "system":
			svcf = systemFlags
		default:
			return nil, nil, fmt.Errorf("unknown service %q", svcn)
		}
	}
	if err := svcf.Parse(flag.Args()[1:]); err != nil {
		return nil, nil, err
	}

	var (
		epn string
		epf *flag.FlagSet
	)
	{
		epn = svcf.Arg(0)
		switch svcn {
		case "health":
			switch epn {
			case "healthz":
				epf = healthHealthzFlags

			case "readyz":
				epf = healthReadyzFlags

			}

		case "camera":
			switch epn {
			case "list":
				epf = cameraListFlags

			case "get":
				epf = cameraGetFlags

			case "create":
				epf = cameraCreateFlags

			case "update":
				epf = cameraUpdateFlags

			case "delete":
				epf = cameraDeleteFlags

			case "activate":
				epf = cameraActivateFlags

			case "deactivate":
				epf = cameraDeactivateFlags

			case "capture":
				epf = cameraCaptureFlags

			}

		case "motion":
			switch epn {
			case "events":
				epf = motionEventsFlags

			case "event":
				epf = motionEventFlags

			case "frame":
				epf = motionFrameFlags

			}

		case "config":
			switch epn {
			case "get":
				epf = configGetFlags

			case "update":
				epf = configUpdateFlags

			case "test-notification":
				epf = configTestNotificationFlags

			}

		case "system":
			switch epn {
			case "status":
				epf = systemStatusFlags

			case "start-detection":
				epf = systemStartDetectionFlags

			case "stop-detection":
				epf = systemStopDetectionFlags

			}

		}
	}
	if epf == nil {
		return nil, nil, fmt.Errorf("unknown %q endpoint %q", svcn, epn)
	}

	// Parse endpoint flags if any
	if svcf.NArg() > 1 {
		if err := epf.Parse(svcf.Args()[1:]); err != nil {
			return nil, nil, err
		}
	}

	var (
		data     any
		endpoint goa.Endpoint
		err      error
	)
	{
		switch svcn {
		case "health":
			c := healthc.NewClient(scheme, host, doer, enc, dec, restore)
			switch epn {
			case "healthz":
				endpoint = c.Healthz()
				data = nil
			case "readyz":
				endpoint = c.Readyz()
				data = nil
			}
		case "camera":
			c := camerac.NewClient(scheme, host, doer, enc, dec, restore)
			switch epn {
			case "list":
				endpoint = c.List()
				data = nil
			case "get":
				endpoint = c.Get()
				data, err = camerac.BuildGetPayload(*cameraGetIDFlag)
			case "create":
				endpoint = c.Create()
				data, err = camerac.BuildCreatePayload(*cameraCreateBodyFlag)
			case "update":
				endpoint = c.Update()
				data, err = camerac.BuildUpdatePayload(*cameraUpdateBodyFlag, *cameraUpdateIDFlag)
			case "delete":
				endpoint = c.Delete()
				data, err = camerac.BuildDeletePayload(*cameraDeleteIDFlag)
			case "activate":
				endpoint = c.Activate()
				data, err = camerac.BuildActivatePayload(*cameraActivateIDFlag)
			case "deactivate":
				endpoint = c.Deactivate()
				data, err = camerac.BuildDeactivatePayload(*cameraDeactivateIDFlag)
			case "capture":
				endpoint = c.Capture()
				data, err = camerac.BuildCapturePayload(*cameraCaptureIDFlag)
			}
		case "motion":
			c := motionc.NewClient(scheme, host, doer, enc, dec, restore)
			switch epn {
			case "events":
				endpoint = c.Events()
				data, err = motionc.BuildEventsPayload(*motionEventsCameraIDFlag, *motionEventsSinceFlag, *motionEventsLimitFlag)
			case "event":
				endpoint = c.Event()
				data, err = motionc.BuildEventPayload(*motionEventIDFlag)
			case "frame":
				endpoint = c.Frame()
				data, err = motionc.BuildFramePayload(*motionFrameIDFlag)
			}
		case "config":
			c := configc.NewClient(scheme, host, doer, enc, dec, restore)
			switch epn {
			case "get":
				endpoint = c.Get()
				data = nil
			case "update":
				endpoint = c.Update()
				data, err = configc.BuildUpdatePayload(*configUpdateBodyFlag)
			case "test-notification":
				endpoint = c.TestNotification()
				data = nil
			}
		case "system":
			c := systemc.NewClient(scheme, host, doer, enc, dec, restore)
			switch epn {
			case "status":
				endpoint = c.Status()
				data = nil
			case "start-detection":
				endpoint = c.StartDetection()
				data = nil
			case "stop-detection":
				endpoint = c.StopDetection()
				data = nil
			}
		}
	}
	if err != nil {
		return nil, nil, err
	}

	return endpoint, data, nil
}

// healthUsage displays the usage of the health command and its subcommands.
func healthUsage() {
	fmt.Fprintf(os.Stderr, `Health check endpoints for Kubernetes probes
Usage:
    %[1]s [globalflags] health COMMAND [flags]

COMMAND:
    healthz: Liveness probe endpoint - indicates if the service is alive
    readyz: Readiness probe endpoint - indicates if the service is ready to serve traffic

Additional help:
    %[1]s health COMMAND --help
`, os.Args[0])
}
func healthHealthzUsage() {
	fmt.Fprintf(os.Stderr, `%[1]s [flags] health healthz

Liveness probe endpoint - indicates if the service is alive

Example:
    %[1]s health healthz
`, os.Args[0])
}

func healthReadyzUsage() {
	fmt.Fprintf(os.Stderr, `%[1]s [flags] health readyz

Readiness probe endpoint - indicates if the service is ready to serve traffic

Example:
    %[1]s health readyz
`, os.Args[0])
}

// cameraUsage displays the usage of the camera command and its subcommands.
func cameraUsage() {
	fmt.Fprintf(os.Stderr, `Camera management service for video alarm system
Usage:
    %[1]s [globalflags] camera COMMAND [flags]

COMMAND:
    list: List all configured cameras
    get: Get camera information by ID
    create: Add a new camera
    update: Update camera configuration
    delete: Remove a camera
    activate: Activate camera for motion detection
    deactivate: Deactivate camera
    capture: Capture a single frame from camera as JPEG

Additional help:
    %[1]s camera COMMAND --help
`, os.Args[0])
}
func cameraListUsage() {
	fmt.Fprintf(os.Stderr, `%[1]s [flags] camera list

List all configured cameras

Example:
    %[1]s camera list
`, os.Args[0])
}

func cameraGetUsage() {
	fmt.Fprintf(os.Stderr, `%[1]s [flags] camera get -id STRING

Get camera information by ID
    -id STRING: Camera ID

Example:
    %[1]s camera get --id "b48b1b5b-85ed-11f0-b1d0-5847ca7b8ce1"
`, os.Args[0])
}

func cameraCreateUsage() {
	fmt.Fprintf(os.Stderr, `%[1]s [flags] camera create -body JSON

Add a new camera
    -body JSON: 

Example:
    %[1]s camera create --body '{
      "device": "Officia sed.",
      "fps": 7244701452893848619,
      "name": "Voluptas quia eligendi perferendis ut.",
      "resolution": "Cumque dignissimos tempore corporis deleniti quisquam debitis."
   }'
`, os.Args[0])
}

func cameraUpdateUsage() {
	fmt.Fprintf(os.Stderr, `%[1]s [flags] camera update -body JSON -id STRING

Update camera configuration
    -body JSON: 
    -id STRING: Camera ID

Example:
    %[1]s camera update --body '{
      "fps": 938750244656215338,
      "name": "Qui excepturi consequatur accusantium quasi voluptas qui.",
      "resolution": "Rerum cum aspernatur temporibus dicta deleniti vero."
   }' --id "b48b8098-85ed-11f0-b1d0-5847ca7b8ce1"
`, os.Args[0])
}

func cameraDeleteUsage() {
	fmt.Fprintf(os.Stderr, `%[1]s [flags] camera delete -id STRING

Remove a camera
    -id STRING: Camera ID

Example:
    %[1]s camera delete --id "b48b96fc-85ed-11f0-b1d0-5847ca7b8ce1"
`, os.Args[0])
}

func cameraActivateUsage() {
	fmt.Fprintf(os.Stderr, `%[1]s [flags] camera activate -id STRING

Activate camera for motion detection
    -id STRING: Camera ID

Example:
    %[1]s camera activate --id "b48b9dd9-85ed-11f0-b1d0-5847ca7b8ce1"
`, os.Args[0])
}

func cameraDeactivateUsage() {
	fmt.Fprintf(os.Stderr, `%[1]s [flags] camera deactivate -id STRING

Deactivate camera
    -id STRING: Camera ID

Example:
    %[1]s camera deactivate --id "b48bbffa-85ed-11f0-b1d0-5847ca7b8ce1"
`, os.Args[0])
}

func cameraCaptureUsage() {
	fmt.Fprintf(os.Stderr, `%[1]s [flags] camera capture -id STRING

Capture a single frame from camera as JPEG
    -id STRING: Camera ID

Example:
    %[1]s camera capture --id "b48bdba8-85ed-11f0-b1d0-5847ca7b8ce1"
`, os.Args[0])
}

// motionUsage displays the usage of the motion command and its subcommands.
func motionUsage() {
	fmt.Fprintf(os.Stderr, `Motion detection and event management service
Usage:
    %[1]s [globalflags] motion COMMAND [flags]

COMMAND:
    events: List motion detection events
    event: Get motion event by ID
    frame: Get captured frame for motion event

Additional help:
    %[1]s motion COMMAND --help
`, os.Args[0])
}
func motionEventsUsage() {
	fmt.Fprintf(os.Stderr, `%[1]s [flags] motion events -camera-id STRING -since STRING -limit INT

List motion detection events
    -camera-id STRING: 
    -since STRING: 
    -limit INT: 

Example:
    %[1]s motion events --camera-id "b48be688-85ed-11f0-b1d0-5847ca7b8ce1" --since "2015-12-11T17:36:55Z" --limit -1636563420186970247
`, os.Args[0])
}

func motionEventUsage() {
	fmt.Fprintf(os.Stderr, `%[1]s [flags] motion event -id STRING

Get motion event by ID
    -id STRING: Event ID

Example:
    %[1]s motion event --id "b48c168a-85ed-11f0-b1d0-5847ca7b8ce1"
`, os.Args[0])
}

func motionFrameUsage() {
	fmt.Fprintf(os.Stderr, `%[1]s [flags] motion frame -id STRING

Get captured frame for motion event
    -id STRING: Event ID

Example:
    %[1]s motion frame --id "b48c2deb-85ed-11f0-b1d0-5847ca7b8ce1"
`, os.Args[0])
}

// configUsage displays the usage of the config command and its subcommands.
func configUsage() {
	fmt.Fprintf(os.Stderr, `System configuration management
Usage:
    %[1]s [globalflags] config COMMAND [flags]

COMMAND:
    get: Get current notification configuration
    update: Update notification configuration
    test-notification: Send test notification

Additional help:
    %[1]s config COMMAND --help
`, os.Args[0])
}
func configGetUsage() {
	fmt.Fprintf(os.Stderr, `%[1]s [flags] config get

Get current notification configuration

Example:
    %[1]s config get
`, os.Args[0])
}

func configUpdateUsage() {
	fmt.Fprintf(os.Stderr, `%[1]s [flags] config update -body JSON

Update notification configuration
    -body JSON: 

Example:
    %[1]s config update --body '{
      "cooldown_seconds": 476592516116706102,
      "min_confidence": 0.80783147,
      "telegram_bot_token": "Doloremque nostrum nisi et voluptatem cumque dolores.",
      "telegram_chat_id": "Aut est.",
      "telegram_enabled": false
   }'
`, os.Args[0])
}

func configTestNotificationUsage() {
	fmt.Fprintf(os.Stderr, `%[1]s [flags] config test-notification

Send test notification

Example:
    %[1]s config test-notification
`, os.Args[0])
}

// systemUsage displays the usage of the system command and its subcommands.
func systemUsage() {
	fmt.Fprintf(os.Stderr, `System status and monitoring
Usage:
    %[1]s [globalflags] system COMMAND [flags]

COMMAND:
    status: Get overall system status
    start-detection: Start motion detection on all active cameras
    stop-detection: Stop motion detection

Additional help:
    %[1]s system COMMAND --help
`, os.Args[0])
}
func systemStatusUsage() {
	fmt.Fprintf(os.Stderr, `%[1]s [flags] system status

Get overall system status

Example:
    %[1]s system status
`, os.Args[0])
}

func systemStartDetectionUsage() {
	fmt.Fprintf(os.Stderr, `%[1]s [flags] system start-detection

Start motion detection on all active cameras

Example:
    %[1]s system start-detection
`, os.Args[0])
}

func systemStopDetectionUsage() {
	fmt.Fprintf(os.Stderr, `%[1]s [flags] system stop-detection

Stop motion detection

Example:
    %[1]s system stop-detection
`, os.Args[0])
}
