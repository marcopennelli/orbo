swagger: "2.0"
info:
    title: Orbo Video Alarm System
    description: Open source video alarm system with motion detection and Telegram integration
    version: "1.0"
host: localhost:8080
consumes:
    - application/json
    - application/xml
    - application/gob
produces:
    - application/json
    - application/xml
    - application/gob
paths:
    /api/v1/auth/login:
        post:
            tags:
                - auth
            summary: login auth
            description: Authenticate with username and password to receive a JWT token
            operationId: auth#login
            parameters:
                - name: LoginRequestBody
                  in: body
                  required: true
                  schema:
                    $ref: '#/definitions/AuthLoginRequestBody'
                    required:
                        - username
                        - password
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/AuthLoginResponseBody'
                        required:
                            - token
                            - expires_at
                "401":
                    description: Unauthorized response.
                    schema:
                        $ref: '#/definitions/UnauthorizedError'
                        required:
                            - message
            schemes:
                - http
    /api/v1/auth/status:
        get:
            tags:
                - auth
            summary: status auth
            description: Check authentication status and get current user info
            operationId: auth#status
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/AuthStatusResponseBody'
                        required:
                            - enabled
                            - authenticated
            schemes:
                - http
    /api/v1/cameras:
        get:
            tags:
                - camera
            summary: list camera
            description: List all configured cameras
            operationId: camera#list
            responses:
                "200":
                    description: OK response.
                    schema:
                        type: array
                        items:
                            $ref: '#/definitions/CameraInfo'
            schemes:
                - http
        post:
            tags:
                - camera
            summary: create camera
            description: Add a new camera
            operationId: camera#create
            parameters:
                - name: CreateRequestBody
                  in: body
                  required: true
                  schema:
                    $ref: '#/definitions/CameraCreateRequestBody'
                    required:
                        - name
                        - device
            responses:
                "201":
                    description: Created response.
                    schema:
                        $ref: '#/definitions/CameraInfo'
                        required:
                            - id
                            - name
                            - device
                            - status
                "400":
                    description: Bad Request response.
                    schema:
                        $ref: '#/definitions/BadRequestError'
                        required:
                            - message
            schemes:
                - http
    /api/v1/cameras/{id}:
        get:
            tags:
                - camera
            summary: get camera
            description: Get camera information by ID
            operationId: camera#get
            parameters:
                - name: id
                  in: path
                  description: Camera ID
                  required: true
                  type: string
                  format: uuid
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/CameraInfo'
                        required:
                            - id
                            - name
                            - device
                            - status
                "404":
                    description: Not Found response.
                    schema:
                        $ref: '#/definitions/NotFoundError'
                        required:
                            - message
                            - id
            schemes:
                - http
        put:
            tags:
                - camera
            summary: update camera
            description: Update camera configuration. Device can only be changed when camera is inactive.
            operationId: camera#update
            parameters:
                - name: id
                  in: path
                  description: Camera ID
                  required: true
                  type: string
                  format: uuid
                - name: UpdateRequestBody
                  in: body
                  required: true
                  schema:
                    $ref: '#/definitions/CameraUpdateRequestBody'
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/CameraInfo'
                        required:
                            - id
                            - name
                            - device
                            - status
                "400":
                    description: Bad Request response.
                    schema:
                        $ref: '#/definitions/BadRequestError'
                        required:
                            - message
                "404":
                    description: Not Found response.
                    schema:
                        $ref: '#/definitions/NotFoundError'
                        required:
                            - message
                            - id
            schemes:
                - http
        delete:
            tags:
                - camera
            summary: delete camera
            description: Remove a camera
            operationId: camera#delete
            parameters:
                - name: id
                  in: path
                  description: Camera ID
                  required: true
                  type: string
                  format: uuid
            responses:
                "204":
                    description: No Content response.
                "404":
                    description: Not Found response.
                    schema:
                        $ref: '#/definitions/NotFoundError'
                        required:
                            - message
                            - id
            schemes:
                - http
    /api/v1/cameras/{id}/activate:
        post:
            tags:
                - camera
            summary: activate camera
            description: Activate camera for motion detection
            operationId: camera#activate
            parameters:
                - name: id
                  in: path
                  description: Camera ID
                  required: true
                  type: string
                  format: uuid
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/CameraInfo'
                        required:
                            - id
                            - name
                            - device
                            - status
                "404":
                    description: Not Found response.
                    schema:
                        $ref: '#/definitions/NotFoundError'
                        required:
                            - message
                            - id
                "500":
                    description: Internal Server Error response.
                    schema:
                        $ref: '#/definitions/InternalError'
                        required:
                            - message
            schemes:
                - http
    /api/v1/cameras/{id}/alerts/disable:
        post:
            tags:
                - camera
            summary: disable_alerts camera
            description: Disable alerts for this camera. Detection pipeline still runs for bounding boxes but no events are created or notifications sent.
            operationId: camera#disable_alerts
            parameters:
                - name: id
                  in: path
                  description: Camera ID
                  required: true
                  type: string
                  format: uuid
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/CameraInfo'
                        required:
                            - id
                            - name
                            - device
                            - status
                "404":
                    description: Not Found response.
                    schema:
                        $ref: '#/definitions/NotFoundError'
                        required:
                            - message
                            - id
            schemes:
                - http
    /api/v1/cameras/{id}/alerts/enable:
        post:
            tags:
                - camera
            summary: enable_alerts camera
            description: Enable alerts for this camera. Detection pipeline will create events and send notifications.
            operationId: camera#enable_alerts
            parameters:
                - name: id
                  in: path
                  description: Camera ID
                  required: true
                  type: string
                  format: uuid
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/CameraInfo'
                        required:
                            - id
                            - name
                            - device
                            - status
                "404":
                    description: Not Found response.
                    schema:
                        $ref: '#/definitions/NotFoundError'
                        required:
                            - message
                            - id
            schemes:
                - http
    /api/v1/cameras/{id}/deactivate:
        post:
            tags:
                - camera
            summary: deactivate camera
            description: Deactivate camera
            operationId: camera#deactivate
            parameters:
                - name: id
                  in: path
                  description: Camera ID
                  required: true
                  type: string
                  format: uuid
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/CameraInfo'
                        required:
                            - id
                            - name
                            - device
                            - status
                "404":
                    description: Not Found response.
                    schema:
                        $ref: '#/definitions/NotFoundError'
                        required:
                            - message
                            - id
            schemes:
                - http
    /api/v1/cameras/{id}/frame:
        get:
            tags:
                - camera
            summary: capture camera
            description: Capture a single frame from camera as base64
            operationId: camera#capture
            parameters:
                - name: id
                  in: path
                  description: Camera ID
                  required: true
                  type: string
                  format: uuid
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/FrameResponse'
                        required:
                            - data
                            - content_type
                "404":
                    description: Not Found response.
                    schema:
                        $ref: '#/definitions/NotFoundError'
                        required:
                            - message
                            - id
                "500":
                    description: Internal Server Error response.
                    schema:
                        $ref: '#/definitions/InternalError'
                        required:
                            - message
            schemes:
                - http
    /api/v1/config/detection:
        get:
            tags:
                - config
            summary: get_detection config
            description: Get combined detection configuration
            operationId: config#get_detection
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/DetectionConfig'
                        required:
                            - primary_detector
            schemes:
                - http
        put:
            tags:
                - config
            summary: update_detection config
            description: Update combined detection configuration
            operationId: config#update_detection
            parameters:
                - name: update_detection_request_body
                  in: body
                  required: true
                  schema:
                    $ref: '#/definitions/DetectionConfig'
                    required:
                        - primary_detector
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/DetectionConfig'
                        required:
                            - primary_detector
                "400":
                    description: Bad Request response.
                    schema:
                        $ref: '#/definitions/BadRequestError'
                        required:
                            - message
            schemes:
                - http
    /api/v1/config/dinov3:
        get:
            tags:
                - config
            summary: get_dinov3 config
            description: Get current DINOv3 AI configuration
            operationId: config#get_dinov3
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/DINOv3Config'
                        required:
                            - enabled
            schemes:
                - http
        put:
            tags:
                - config
            summary: update_dinov3 config
            description: Update DINOv3 AI configuration
            operationId: config#update_dinov3
            parameters:
                - name: update_dinov3_request_body
                  in: body
                  required: true
                  schema:
                    $ref: '#/definitions/DINOv3Config'
                    required:
                        - enabled
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/DINOv3Config'
                        required:
                            - enabled
                "400":
                    description: Bad Request response.
                    schema:
                        $ref: '#/definitions/BadRequestError'
                        required:
                            - message
            schemes:
                - http
    /api/v1/config/dinov3/test:
        post:
            tags:
                - config
            summary: test_dinov3 config
            description: Test DINOv3 service connectivity
            operationId: config#test_dinov3
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/ConfigTestDinov3ResponseBody'
                        required:
                            - healthy
                            - message
                "500":
                    description: Internal Server Error response.
                    schema:
                        $ref: '#/definitions/InternalError'
                        required:
                            - message
            schemes:
                - http
    /api/v1/config/notifications:
        get:
            tags:
                - config
            summary: get config
            description: Get current notification configuration
            operationId: config#get
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/NotificationConfig'
                        required:
                            - telegram_enabled
            schemes:
                - http
        put:
            tags:
                - config
            summary: update config
            description: Update notification configuration
            operationId: config#update
            parameters:
                - name: UpdateRequestBody
                  in: body
                  required: true
                  schema:
                    $ref: '#/definitions/NotificationConfig'
                    required:
                        - telegram_enabled
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/NotificationConfig'
                        required:
                            - telegram_enabled
                "400":
                    description: Bad Request response.
                    schema:
                        $ref: '#/definitions/BadRequestError'
                        required:
                            - message
            schemes:
                - http
    /api/v1/config/notifications/test:
        post:
            tags:
                - config
            summary: test_notification config
            description: Send test notification
            operationId: config#test_notification
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/ConfigTestNotificationResponseBody'
                        required:
                            - success
                            - message
                "500":
                    description: Internal Server Error response.
                    schema:
                        $ref: '#/definitions/InternalError'
                        required:
                            - message
            schemes:
                - http
    /api/v1/config/pipeline:
        get:
            tags:
                - config
            summary: get_pipeline config
            description: Get detection pipeline configuration
            operationId: config#get_pipeline
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/PipelineConfig'
                        required:
                            - mode
                            - execution_mode
            schemes:
                - http
        put:
            tags:
                - config
            summary: update_pipeline config
            description: Update detection pipeline configuration
            operationId: config#update_pipeline
            parameters:
                - name: update_pipeline_request_body
                  in: body
                  required: true
                  schema:
                    $ref: '#/definitions/PipelineConfig'
                    required:
                        - mode
                        - execution_mode
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/PipelineConfig'
                        required:
                            - mode
                            - execution_mode
                "400":
                    description: Bad Request response.
                    schema:
                        $ref: '#/definitions/BadRequestError'
                        required:
                            - message
            schemes:
                - http
    /api/v1/config/recognition:
        get:
            tags:
                - config
            summary: get_recognition config
            description: Get face recognition configuration
            operationId: config#get_recognition
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/RecognitionConfig'
                        required:
                            - enabled
            schemes:
                - http
        put:
            tags:
                - config
            summary: update_recognition config
            description: Update face recognition configuration
            operationId: config#update_recognition
            parameters:
                - name: update_recognition_request_body
                  in: body
                  required: true
                  schema:
                    $ref: '#/definitions/RecognitionConfig'
                    required:
                        - enabled
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/RecognitionConfig'
                        required:
                            - enabled
                "400":
                    description: Bad Request response.
                    schema:
                        $ref: '#/definitions/BadRequestError'
                        required:
                            - message
            schemes:
                - http
    /api/v1/config/recognition/test:
        post:
            tags:
                - config
            summary: test_recognition config
            description: Test face recognition service connectivity
            operationId: config#test_recognition
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/ConfigTestRecognitionResponseBody'
                        required:
                            - healthy
                            - message
                "500":
                    description: Internal Server Error response.
                    schema:
                        $ref: '#/definitions/InternalError'
                        required:
                            - message
            schemes:
                - http
    /api/v1/config/yolo:
        get:
            tags:
                - config
            summary: get_yolo config
            description: Get current YOLO detection configuration
            operationId: config#get_yolo
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/YOLOConfig'
                        required:
                            - enabled
            schemes:
                - http
        put:
            tags:
                - config
            summary: update_yolo config
            description: Update YOLO detection configuration
            operationId: config#update_yolo
            parameters:
                - name: update_yolo_request_body
                  in: body
                  required: true
                  schema:
                    $ref: '#/definitions/YOLOConfig'
                    required:
                        - enabled
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/YOLOConfig'
                        required:
                            - enabled
                "400":
                    description: Bad Request response.
                    schema:
                        $ref: '#/definitions/BadRequestError'
                        required:
                            - message
            schemes:
                - http
    /api/v1/config/yolo/test:
        post:
            tags:
                - config
            summary: test_yolo config
            description: Test YOLO service connectivity
            operationId: config#test_yolo
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/ConfigTestYoloResponseBody'
                        required:
                            - healthy
                            - message
                "500":
                    description: Internal Server Error response.
                    schema:
                        $ref: '#/definitions/InternalError'
                        required:
                            - message
            schemes:
                - http
    /api/v1/motion/events:
        get:
            tags:
                - motion
            summary: events motion
            description: List motion detection events
            operationId: motion#events
            parameters:
                - name: camera_id
                  in: query
                  description: Filter by camera ID
                  required: false
                  type: string
                  format: uuid
                - name: since
                  in: query
                  description: Show events since timestamp
                  required: false
                  type: string
                  format: date-time
                - name: limit
                  in: query
                  description: Maximum number of events to return
                  required: false
                  type: integer
                  default: 50
                  maximum: 500
            responses:
                "200":
                    description: OK response.
                    schema:
                        type: array
                        items:
                            $ref: '#/definitions/MotionEvent'
            schemes:
                - http
    /api/v1/motion/events/{id}:
        get:
            tags:
                - motion
            summary: event motion
            description: Get motion event by ID
            operationId: motion#event
            parameters:
                - name: id
                  in: path
                  description: Event ID
                  required: true
                  type: string
                  format: uuid
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/MotionEvent'
                        required:
                            - id
                            - camera_id
                            - timestamp
                            - confidence
                "404":
                    description: Not Found response.
                    schema:
                        $ref: '#/definitions/NotFoundError'
                        required:
                            - message
                            - id
            schemes:
                - http
    /api/v1/motion/events/{id}/forensic/{index}:
        get:
            tags:
                - motion
            summary: forensic_thumbnail motion
            description: Get forensic face analysis thumbnail (NSA-style with landmarks) for a motion event
            operationId: motion#forensic_thumbnail
            parameters:
                - name: id
                  in: path
                  description: Event ID
                  required: true
                  type: string
                  format: uuid
                - name: index
                  in: path
                  description: Face thumbnail index (0-based)
                  required: true
                  type: integer
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/FrameResponse'
                        required:
                            - data
                            - content_type
                "404":
                    description: Not Found response.
                    schema:
                        $ref: '#/definitions/NotFoundError'
                        required:
                            - message
                            - id
            schemes:
                - http
    /api/v1/motion/events/{id}/frame:
        get:
            tags:
                - motion
            summary: frame motion
            description: Get captured frame for motion event as base64
            operationId: motion#frame
            parameters:
                - name: id
                  in: path
                  description: Event ID
                  required: true
                  type: string
                  format: uuid
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/FrameResponse'
                        required:
                            - data
                            - content_type
                "404":
                    description: Not Found response.
                    schema:
                        $ref: '#/definitions/NotFoundError'
                        required:
                            - message
                            - id
            schemes:
                - http
    /api/v1/system/detection/start:
        post:
            tags:
                - system
            summary: start_detection system
            description: Start motion detection on all active cameras
            operationId: system#start_detection
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/SystemStatus'
                        required:
                            - cameras
                            - motion_detection_active
                            - notifications_active
                            - uptime_seconds
                "500":
                    description: Internal Server Error response.
                    schema:
                        $ref: '#/definitions/InternalError'
                        required:
                            - message
            schemes:
                - http
    /api/v1/system/detection/stop:
        post:
            tags:
                - system
            summary: stop_detection system
            description: Stop motion detection
            operationId: system#stop_detection
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/SystemStatus'
                        required:
                            - cameras
                            - motion_detection_active
                            - notifications_active
                            - uptime_seconds
            schemes:
                - http
    /api/v1/system/status:
        get:
            tags:
                - system
            summary: status system
            description: Get overall system status
            operationId: system#status
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/SystemStatus'
                        required:
                            - cameras
                            - motion_detection_active
                            - notifications_active
                            - uptime_seconds
            schemes:
                - http
    /healthz:
        get:
            tags:
                - health
            summary: healthz health
            description: Liveness probe endpoint - indicates if the service is alive
            operationId: health#healthz
            responses:
                "200":
                    description: OK response.
            schemes:
                - http
    /readyz:
        get:
            tags:
                - health
            summary: readyz health
            description: Readiness probe endpoint - indicates if the service is ready to serve traffic
            operationId: health#readyz
            responses:
                "200":
                    description: OK response.
                "503":
                    description: Service Unavailable response.
                    schema:
                        $ref: '#/definitions/NotReadyError'
                        required:
                            - message
            schemes:
                - http
definitions:
    AuthLoginRequestBody:
        title: AuthLoginRequestBody
        type: object
        properties:
            password:
                type: string
                description: Password
                example: Fugiat nemo qui.
            username:
                type: string
                description: Username
                example: Porro id ut qui.
        example:
            password: Nostrum quis aut non.
            username: Sit earum itaque itaque unde alias.
        required:
            - username
            - password
    AuthLoginResponseBody:
        title: AuthLoginResponseBody
        type: object
        properties:
            expires_at:
                type: integer
                description: Token expiration timestamp (Unix)
                example: 1936690372711677679
                format: int64
            token:
                type: string
                description: JWT access token
                example: Non ut et molestiae.
        example:
            expires_at: 4232959068314012360
            token: Ea aut magnam eligendi velit quae aperiam.
        required:
            - token
            - expires_at
    AuthStatusResponseBody:
        title: AuthStatusResponseBody
        type: object
        properties:
            authenticated:
                type: boolean
                description: Whether current request is authenticated
                example: false
            enabled:
                type: boolean
                description: Whether authentication is enabled
                example: false
            username:
                type: string
                description: Current username if authenticated
                example: Alias ducimus tempora rem vero.
        example:
            authenticated: true
            enabled: true
            username: Quia numquam.
        required:
            - enabled
            - authenticated
    BadRequestError:
        title: BadRequestError
        type: object
        properties:
            details:
                type: string
                description: Error details
                example: Facilis omnis porro est.
            message:
                type: string
                description: Error message
                example: Pariatur consequuntur.
        description: Invalid camera configuration
        example:
            details: Quaerat incidunt cum veritatis quam expedita.
            message: Sit architecto asperiores exercitationem distinctio necessitatibus.
        required:
            - message
    BoundingBox:
        title: BoundingBox
        type: object
        properties:
            height:
                type: integer
                description: Height
                example: 3652781248634700764
                format: int64
            width:
                type: integer
                description: Width
                example: 921215167298069415
                format: int64
            x:
                type: integer
                description: X coordinate
                example: 2036382173273996000
                format: int64
            "y":
                type: integer
                description: Y coordinate
                example: 508871462026030923
                format: int64
        description: Bounding box coordinates
        example:
            height: 8707605627270730266
            width: 7926901569228510213
            x: 7191248869546307951
            "y": 3298623620112200251
        required:
            - x
            - "y"
            - width
            - height
    CameraCreateRequestBody:
        title: CameraCreateRequestBody
        type: object
        properties:
            device:
                type: string
                description: Camera device path
                example: Et dicta omnis nihil dolores nostrum non.
            events_enabled:
                type: boolean
                description: Enable event creation for this camera
                default: true
                example: false
            fps:
                type: integer
                description: Frames per second
                default: 30
                example: 3279754630583675154
                format: int64
            name:
                type: string
                description: Camera name
                example: Reiciendis placeat voluptatibus et unde veritatis commodi.
            notifications_enabled:
                type: boolean
                description: Enable Telegram notifications for this camera
                default: true
                example: true
            resolution:
                type: string
                description: Camera resolution
                default: 640x480
                example: Dolores quaerat ut.
        example:
            device: Cum suscipit.
            events_enabled: false
            fps: 6603274765395011773
            name: Neque laudantium et corporis impedit iste porro.
            notifications_enabled: true
            resolution: Qui veniam perferendis incidunt iste est.
        required:
            - name
            - device
    CameraInfo:
        title: CameraInfo
        type: object
        properties:
            created_at:
                type: string
                description: Creation timestamp
                example: "2003-04-28T11:33:04Z"
                format: date-time
            device:
                type: string
                description: Camera device path (e.g., /dev/video0)
                example: Nam ullam unde laboriosam quia ut accusantium.
            events_enabled:
                type: boolean
                description: When true, detection events are created and stored. When false, detection runs for live view only.
                example: false
            fps:
                type: integer
                description: Frames per second
                example: 1684808153629253452
                format: int64
            id:
                type: string
                description: Camera unique identifier
                example: 7fe35eda-1d23-4886-a375-29b4674a3602
                format: uuid
            name:
                type: string
                description: Camera name
                example: Porro et.
            notifications_enabled:
                type: boolean
                description: When true, Telegram alerts are sent for detections. Requires events_enabled to also be true.
                example: true
            resolution:
                type: string
                description: Camera resolution
                example: Blanditiis quis excepturi et voluptatem.
            status:
                type: string
                description: Camera status
                example: active
                enum:
                    - active
                    - inactive
                    - error
        description: Camera information
        example:
            created_at: "1973-12-10T00:19:19Z"
            device: Harum vel.
            events_enabled: true
            fps: 6202103229705728896
            id: a3c8a4c4-32bf-4e36-ba0d-10916e5b2743
            name: Perferendis facere sapiente.
            notifications_enabled: true
            resolution: Non deleniti ut asperiores.
            status: error
        required:
            - id
            - name
            - device
            - status
    CameraUpdateRequestBody:
        title: CameraUpdateRequestBody
        type: object
        properties:
            device:
                type: string
                description: Camera device path (only when inactive)
                example: Aperiam libero molestiae.
            events_enabled:
                type: boolean
                description: Enable event creation for this camera
                example: true
            fps:
                type: integer
                description: Frames per second
                example: 6713931754598957626
                format: int64
            name:
                type: string
                description: Camera name
                example: Facilis nemo qui eos cum.
            notifications_enabled:
                type: boolean
                description: Enable Telegram notifications for this camera
                example: false
            resolution:
                type: string
                description: Camera resolution
                example: Est quia atque voluptatum iste autem.
        example:
            device: Eius laboriosam sunt.
            events_enabled: true
            fps: 2104037792971342194
            name: Tempore expedita consequuntur repellat vel quia.
            notifications_enabled: false
            resolution: Labore repellendus sunt aut dolorem error porro.
    ConfigTestDinov3ResponseBody:
        title: ConfigTestDinov3ResponseBody
        type: object
        properties:
            device:
                type: string
                description: Detection device
                example: Maxime esse eos adipisci beatae ut.
            endpoint:
                type: string
                description: Service endpoint
                example: Sit rem alias non.
            healthy:
                type: boolean
                description: Service health status
                example: true
            message:
                type: string
                description: Status message
                example: Odio autem.
            response_time_ms:
                type: number
                description: Response time in milliseconds
                example: 0.6361257
                format: float
        example:
            device: Sint quia ullam placeat rerum odio.
            endpoint: Iusto provident.
            healthy: false
            message: Molestias quis iste natus.
            response_time_ms: 0.9567149
        required:
            - healthy
            - message
    ConfigTestNotificationResponseBody:
        title: ConfigTestNotificationResponseBody
        type: object
        properties:
            message:
                type: string
                description: Result message
                example: Tempora nulla aspernatur.
            success:
                type: boolean
                description: Test result
                example: false
        example:
            message: Non at expedita laudantium labore.
            success: false
        required:
            - success
            - message
    ConfigTestRecognitionResponseBody:
        title: ConfigTestRecognitionResponseBody
        type: object
        properties:
            device:
                type: string
                description: Detection device
                example: Alias aut.
            endpoint:
                type: string
                description: Service endpoint
                example: Quisquam voluptatibus repellat facere.
            healthy:
                type: boolean
                description: Service health status
                example: true
            known_faces_count:
                type: integer
                description: Number of registered faces
                example: 5378515227607097740
                format: int64
            message:
                type: string
                description: Status message
                example: Praesentium rerum ut quod.
            model_loaded:
                type: boolean
                description: Model loaded status
                example: true
            response_time_ms:
                type: number
                description: Response time in milliseconds
                example: 0.7837464
                format: float
        example:
            device: Voluptas qui.
            endpoint: Iusto officia non rem et.
            healthy: true
            known_faces_count: 7311050996694337354
            message: Aliquam non ut.
            model_loaded: true
            response_time_ms: 0.7450145
        required:
            - healthy
            - message
    ConfigTestYoloResponseBody:
        title: ConfigTestYoloResponseBody
        type: object
        properties:
            device:
                type: string
                description: Detection device (cpu/cuda)
                example: Corrupti eos architecto dolor ad quo.
            endpoint:
                type: string
                description: Service endpoint
                example: Ratione vero.
            healthy:
                type: boolean
                description: Service health status
                example: true
            message:
                type: string
                description: Status message
                example: Repellendus sed est ratione repellat natus.
            model_loaded:
                type: boolean
                description: Model loaded status
                example: true
            response_time_ms:
                type: number
                description: Response time in milliseconds
                example: 0.3725812
                format: float
        example:
            device: Consequatur reprehenderit velit nisi.
            endpoint: Tempore voluptates quo est eos ea recusandae.
            healthy: false
            message: Veritatis numquam deserunt dicta aliquid.
            model_loaded: true
            response_time_ms: 0.5091493
        required:
            - healthy
            - message
    DINOv3Config:
        title: DINOv3Config
        type: object
        properties:
            confidence_threshold:
                type: number
                description: Minimum confidence for alerts (0-1)
                default: 0.6
                example: 0.1918375
                format: float
            enable_scene_analysis:
                type: boolean
                description: Enable advanced scene analysis
                default: true
                example: false
            enabled:
                type: boolean
                description: Enable DINOv3 AI detection
                example: true
            fallback_to_basic:
                type: boolean
                description: Fallback to basic detection when DINOv3 unavailable
                default: true
                example: false
            motion_threshold:
                type: number
                description: Motion detection threshold (0-1)
                default: 0.85
                example: 0.9792626
                format: float
            service_endpoint:
                type: string
                description: DINOv3 service endpoint URL
                example: Est quia molestiae beatae exercitationem.
        example:
            confidence_threshold: 0.731938
            enable_scene_analysis: false
            enabled: false
            fallback_to_basic: false
            motion_threshold: 0.75412005
            service_endpoint: Sed optio nobis sunt qui qui.
        required:
            - enabled
    DetectionConfig:
        title: DetectionConfig
        type: object
        properties:
            dinov3:
                $ref: '#/definitions/DINOv3Config'
            fallback_enabled:
                type: boolean
                description: Enable fallback to basic detection
                default: true
                example: false
            primary_detector:
                type: string
                description: Primary detector to use
                default: basic
                example: dinov3
                enum:
                    - basic
                    - yolo
                    - dinov3
            yolo:
                $ref: '#/definitions/YOLOConfig'
        example:
            dinov3:
                confidence_threshold: 0.93685156
                enable_scene_analysis: true
                enabled: false
                fallback_to_basic: false
                motion_threshold: 0.08645629
                service_endpoint: Tenetur sunt similique.
            fallback_enabled: true
            primary_detector: basic
            yolo:
                box_color: Reprehenderit sint.
                box_thickness: 8131404703511313555
                classes_filter: Cum itaque at enim in illo.
                confidence_threshold: 0.13947289
                draw_boxes: false
                enabled: false
                security_mode: false
                service_endpoint: Facere blanditiis ratione sunt consequatur.
                tasks:
                    - detect
                    - pose
        required:
            - primary_detector
    FrameResponse:
        title: FrameResponse
        type: object
        properties:
            content_type:
                type: string
                description: Image MIME type
                default: image/jpeg
                example: Est sunt saepe sit ut.
            data:
                type: string
                description: Base64 encoded JPEG image data
                example: Illum culpa.
        example:
            content_type: Totam numquam omnis suscipit sed tempora.
            data: Veniam doloribus vero.
        required:
            - data
            - content_type
    InternalError:
        title: InternalError
        type: object
        properties:
            message:
                type: string
                description: Error message
                example: Consequatur quae neque.
        description: Failed to activate camera
        example:
            message: Temporibus accusantium similique consequatur maiores omnis natus.
        required:
            - message
    MotionEvent:
        title: MotionEvent
        type: object
        properties:
            bounding_boxes:
                type: array
                items:
                    $ref: '#/definitions/BoundingBox'
                description: Detected motion areas
                example:
                    - height: 4135917581243998397
                      width: 6154682138056734891
                      x: 9103686172990983152
                      "y": 989066992458198934
                    - height: 4135917581243998397
                      width: 6154682138056734891
                      x: 9103686172990983152
                      "y": 989066992458198934
                    - height: 4135917581243998397
                      width: 6154682138056734891
                      x: 9103686172990983152
                      "y": 989066992458198934
            camera_id:
                type: string
                description: Camera ID
                example: fbe524db-8caf-4646-a303-82f009747116
                format: uuid
            confidence:
                type: number
                description: Motion confidence score (0-1)
                example: 0.7140271
                format: float
            detection_device:
                type: string
                description: Device used for detection
                example: cuda
                enum:
                    - cpu
                    - cuda
                    - dinov3
            faces_detected:
                type: integer
                description: Number of faces detected in frame
                example: 8195358758577532413
                format: int64
            forensic_thumbnails:
                type: array
                items:
                    type: string
                    example: Rerum quo omnis id qui in laudantium.
                description: Paths to forensic face analysis images with landmarks
                example:
                    - Eveniet et ratione quas.
                    - Impedit laudantium.
                    - Magni repudiandae numquam quo.
                    - Dolor eligendi.
            frame_path:
                type: string
                description: Path to captured frame
                example: Maiores dolor sint.
            id:
                type: string
                description: Event unique identifier
                example: 8db78812-a6b5-4073-a478-47abd6ff8ac5
                format: uuid
            inference_time_ms:
                type: number
                description: AI inference time in milliseconds
                example: 0.57004267
                format: float
            known_identities:
                type: array
                items:
                    type: string
                    example: Natus distinctio et sit quia ab.
                description: Names of recognized known faces
                example:
                    - Qui ullam commodi culpa sint soluta eos.
                    - Aspernatur voluptas quia et voluptatem non placeat.
                    - Omnis asperiores architecto.
            notification_sent:
                type: boolean
                description: Whether notification was sent
                example: false
            object_class:
                type: string
                description: Detected object class
                example: Libero libero.
            object_confidence:
                type: number
                description: AI detection confidence
                example: 0.5003708
                format: float
            threat_level:
                type: string
                description: Threat level assessment
                example: high
                enum:
                    - none
                    - low
                    - medium
                    - high
            timestamp:
                type: string
                description: Event timestamp
                example: "1994-07-25T20:05:36Z"
                format: date-time
            unknown_faces_count:
                type: integer
                description: Number of unknown/unrecognized faces
                example: 5935928605853431577
                format: int64
        description: Motion detection event
        example:
            bounding_boxes:
                - height: 4135917581243998397
                  width: 6154682138056734891
                  x: 9103686172990983152
                  "y": 989066992458198934
                - height: 4135917581243998397
                  width: 6154682138056734891
                  x: 9103686172990983152
                  "y": 989066992458198934
                - height: 4135917581243998397
                  width: 6154682138056734891
                  x: 9103686172990983152
                  "y": 989066992458198934
            camera_id: ac03b066-a635-44da-96ea-26ab25edc525
            confidence: 0.22975269
            detection_device: dinov3
            faces_detected: 3119075432154950963
            forensic_thumbnails:
                - Repellat nesciunt aut.
                - Quae facilis deserunt ad.
                - Quos adipisci officiis est ipsum.
                - Voluptatem id fuga corrupti enim.
            frame_path: Repudiandae fugiat.
            id: 69f24ac3-76a6-4664-b41e-6c49d9480402
            inference_time_ms: 0.6772948
            known_identities:
                - Excepturi soluta nihil quo consectetur.
                - Itaque sit et sunt delectus voluptas fugit.
                - Saepe voluptas.
            notification_sent: true
            object_class: Molestiae distinctio officia sint ea perspiciatis.
            object_confidence: 0.94659007
            threat_level: none
            timestamp: "1998-11-10T02:03:23Z"
            unknown_faces_count: 8532035293356800532
        required:
            - id
            - camera_id
            - timestamp
            - confidence
    NotFoundError:
        title: NotFoundError
        type: object
        properties:
            id:
                type: string
                description: Resource ID
                example: Voluptatibus pariatur voluptatum et.
            message:
                type: string
                description: Error message
                example: Necessitatibus ea.
        description: Camera not found
        example:
            id: Eum id deleniti est.
            message: Et quisquam sunt quo.
        required:
            - message
            - id
    NotReadyError:
        title: NotReadyError
        type: object
        properties:
            details:
                type: string
                description: Additional error details
                example: In ut.
            message:
                type: string
                description: Error message
                example: Cumque quia ut quos non.
        description: Service is not ready
        example:
            details: Consequatur aliquid totam eveniet.
            message: Error in ut dolor.
        required:
            - message
    NotificationConfig:
        title: NotificationConfig
        type: object
        properties:
            cooldown_seconds:
                type: integer
                description: Cooldown period between notifications
                example: 8309451235232166498
                format: int64
            min_confidence:
                type: number
                description: Minimum confidence threshold for notifications
                example: 0.20416704
                format: float
            telegram_bot_token:
                type: string
                description: Telegram bot token
                example: Nobis est voluptatibus quidem ad eveniet.
            telegram_chat_id:
                type: string
                description: Telegram chat ID
                example: Quos quam est inventore.
            telegram_enabled:
                type: boolean
                description: Enable Telegram notifications
                example: true
        example:
            cooldown_seconds: 7847962086460073055
            min_confidence: 0.049241807
            telegram_bot_token: Soluta impedit eum voluptatem quo soluta.
            telegram_chat_id: Asperiores eligendi consequatur doloribus.
            telegram_enabled: true
        required:
            - telegram_enabled
    PipelineConfig:
        title: PipelineConfig
        type: object
        properties:
            detectors:
                type: array
                items:
                    type: string
                    example: Quia maxime aliquid doloremque.
                description: 'List of detector names: yolo, face, plate. Order matters for sequential mode.'
                example:
                    - yolo
                    - face
            execution_mode:
                type: string
                description: How detectors are run. Only 'sequential' is supported (chains YOLO  Face  Plate).
                default: sequential
                example: sequential
                enum:
                    - sequential
            mode:
                type: string
                description: Controls when detection runs
                default: motion_triggered
                example: scheduled
                enum:
                    - disabled
                    - visual_only
                    - continuous
                    - motion_triggered
                    - scheduled
                    - hybrid
            motion_cooldown_seconds:
                type: integer
                description: Seconds to wait after motion ends before stopping detection
                default: 2
                example: 5801438619166011379
                format: int64
                minimum: 0
            motion_sensitivity:
                type: number
                description: Lower values = more sensitive. Used in motion_triggered and hybrid modes.
                default: 0.1
                example: 0.54474014
                format: float
                minimum: 0
                maximum: 1
            schedule_interval:
                type: string
                description: Go duration string, e.g., '5s', '10s', '1m'
                default: 5s
                example: Dolor et reprehenderit.
        example:
            detectors:
                - yolo
                - face
            execution_mode: sequential
            mode: hybrid
            motion_cooldown_seconds: 8160230905841584447
            motion_sensitivity: 0.59969527
            schedule_interval: Et ad aperiam vitae.
        required:
            - mode
            - execution_mode
    RecognitionConfig:
        title: RecognitionConfig
        type: object
        properties:
            box_thickness:
                type: integer
                description: Bounding box line thickness (1-5)
                default: 2
                example: 7815525546998725366
                format: int64
            enabled:
                type: boolean
                description: Enable face recognition
                example: false
            known_face_color:
                type: string
                description: Color for known/recognized faces in hex format (e.g., '#00FF00')
                example: Hic sapiente aut.
            service_endpoint:
                type: string
                description: Face recognition service endpoint URL
                example: Dolorem provident aut omnis similique.
            similarity_threshold:
                type: number
                description: Similarity threshold for face matching (0-1)
                default: 0.5
                example: 0.2834825
                format: float
            unknown_face_color:
                type: string
                description: Color for unknown faces in hex format (e.g., '#FF0000')
                example: Qui nihil adipisci sed.
        example:
            box_thickness: 5171451417815738708
            enabled: true
            known_face_color: Itaque voluptatem quo dolor vel.
            service_endpoint: Dolores beatae quo.
            similarity_threshold: 0.628405
            unknown_face_color: Praesentium est aut est.
        required:
            - enabled
    SystemStatus:
        title: SystemStatus
        type: object
        properties:
            cameras:
                type: array
                items:
                    $ref: '#/definitions/CameraInfo'
                description: Camera status list
                example:
                    - created_at: "1979-07-01T17:37:54Z"
                      device: Voluptas rem et alias ut.
                      events_enabled: true
                      fps: 8985836878463536744
                      id: b31af227-3038-44f9-92a1-fd86993bf0f9
                      name: Quibusdam quasi.
                      notifications_enabled: false
                      resolution: Ducimus iste.
                      status: error
                    - created_at: "1979-07-01T17:37:54Z"
                      device: Voluptas rem et alias ut.
                      events_enabled: true
                      fps: 8985836878463536744
                      id: b31af227-3038-44f9-92a1-fd86993bf0f9
                      name: Quibusdam quasi.
                      notifications_enabled: false
                      resolution: Ducimus iste.
                      status: error
            detecting_cameras:
                type: integer
                description: Number of cameras currently running detection
                example: 6911030766429559349
                format: int64
            motion_detection_active:
                type: boolean
                description: Motion detection status
                example: true
            notifications_active:
                type: boolean
                description: Notification status
                example: false
            pipeline_detection_enabled:
                type: boolean
                description: Whether AI detection is enabled (false when mode=disabled)
                example: true
            pipeline_detectors:
                type: array
                items:
                    type: string
                    example: Animi est perferendis excepturi incidunt rerum vel.
                description: Enabled detectors in the pipeline
                example:
                    - Nulla id officiis vel.
                    - Accusamus eveniet saepe ut.
                    - Voluptates vero quia saepe velit voluptas.
                    - Sunt velit sapiente voluptatibus itaque quo.
            pipeline_execution_mode:
                type: string
                description: Pipeline execution mode (always sequential)
                example: Inventore doloribus sapiente ad.
            pipeline_mode:
                type: string
                description: Current pipeline detection mode (disabled, continuous, motion_triggered, scheduled, hybrid)
                example: Optio consectetur nam quia consequatur quisquam et.
            uptime_seconds:
                type: integer
                description: System uptime in seconds
                example: 7916420381759192870
                format: int64
        example:
            cameras:
                - created_at: "1979-07-01T17:37:54Z"
                  device: Voluptas rem et alias ut.
                  events_enabled: true
                  fps: 8985836878463536744
                  id: b31af227-3038-44f9-92a1-fd86993bf0f9
                  name: Quibusdam quasi.
                  notifications_enabled: false
                  resolution: Ducimus iste.
                  status: error
                - created_at: "1979-07-01T17:37:54Z"
                  device: Voluptas rem et alias ut.
                  events_enabled: true
                  fps: 8985836878463536744
                  id: b31af227-3038-44f9-92a1-fd86993bf0f9
                  name: Quibusdam quasi.
                  notifications_enabled: false
                  resolution: Ducimus iste.
                  status: error
            detecting_cameras: 3903243977727790585
            motion_detection_active: false
            notifications_active: false
            pipeline_detection_enabled: false
            pipeline_detectors:
                - Incidunt accusantium distinctio.
                - Vero debitis minima aut nemo ut officiis.
            pipeline_execution_mode: Qui et id.
            pipeline_mode: Et corporis necessitatibus.
            uptime_seconds: 5601172217082452621
        required:
            - cameras
            - motion_detection_active
            - notifications_active
            - uptime_seconds
    UnauthorizedError:
        title: UnauthorizedError
        type: object
        properties:
            message:
                type: string
                description: Error message
                example: Necessitatibus autem dolorem voluptas sint in ullam.
        description: Invalid credentials
        example:
            message: Dolor qui deserunt nisi quae.
        required:
            - message
    YOLOConfig:
        title: YOLOConfig
        type: object
        properties:
            box_color:
                type: string
                description: Bounding box color in hex format (e.g., '#0066FF')
                example: Nam minima.
            box_thickness:
                type: integer
                description: Bounding box line thickness (1-5)
                default: 2
                example: 1726674920742382964
                format: int64
            classes_filter:
                type: string
                description: Comma-separated class names to filter (empty = all)
                example: Sed corrupti quis et voluptatibus qui error.
            confidence_threshold:
                type: number
                description: Minimum confidence for detections (0-1)
                default: 0.5
                example: 0.6632185
                format: float
            draw_boxes:
                type: boolean
                description: Draw bounding boxes on images (for Telegram, API)
                default: false
                example: true
            enabled:
                type: boolean
                description: Enable YOLO object detection
                example: true
            security_mode:
                type: boolean
                description: Use security-focused detection (person, car, etc.)
                default: true
                example: false
            service_endpoint:
                type: string
                description: YOLO service endpoint URL
                example: Qui deleniti asperiores nobis minima commodi aut.
            tasks:
                type: array
                items:
                    type: string
                    example: Distinctio enim.
                description: List of YOLO11 tasks. 'detect' for object detection, 'pose' for human pose estimation, 'segment' for instance segmentation, 'obb' for oriented bounding boxes, 'classify' for image classification.
                example:
                    - detect
                    - pose
        example:
            box_color: Quasi et architecto dolorum.
            box_thickness: 6076299037436991521
            classes_filter: Libero ullam voluptas.
            confidence_threshold: 0.29876322
            draw_boxes: true
            enabled: false
            security_mode: false
            service_endpoint: Esse officiis in magni.
            tasks:
                - detect
                - pose
        required:
            - enabled
